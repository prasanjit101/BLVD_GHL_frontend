<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>New Workflows</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i">
    <link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/fontawesome5-overrides.min.css">
    <link rel="stylesheet" href="assets/css/new.css">
    <script src="https://cdn.tiny.cloud/1/si3attca1u3kry5evhyi2g9rsyjit7zrd1cuz0pdlgllan7x/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>

    <script>
        tinymce.init({
            selector: '#email_template',
            plugins: [
                'a11ychecker', 'advlist', 'advcode', 'advtable', 'autolink', 'checklist', 'export',
                'lists', 'link', 'image', 'charmap', 'preview', 'anchor', 'searchreplace', 'visualblocks',
                'powerpaste', 'fullscreen', 'formatpainter', 'insertdatetime', 'media', 'table', 'help', 'wordcount'
            ],
            toolbar: 'undo redo | formatpainter casechange blocks | bold italic backcolor | ' +
                'alignleft aligncenter alignright alignjustify | ' +
                'bullist numlist checklist outdent indent | removeformat | a11ycheck code table help'
        });
        tinymce.init({
            selector: '#sms_template',
            plugins: [
                'a11ychecker', 'advlist', 'advcode', 'advtable', 'autolink', 'checklist', 'export',
                'lists', 'link', 'image', 'charmap', 'preview', 'anchor', 'searchreplace', 'visualblocks',
                'powerpaste', 'fullscreen', 'formatpainter', 'insertdatetime', 'media', 'table', 'help', 'wordcount'
            ],
            toolbar: 'undo redo | formatpainter casechange blocks | bold italic backcolor | ' +
                'alignleft aligncenter alignright alignjustify | ' +
                'bullist numlist checklist outdent indent | removeformat | a11ycheck code table help'
        });
    </script>
</head>

<body class="bg-gradient-primary">
    <div class="container ">
        <div class="p-5 bg-gradient-primary" id="filled ">
            <h4 class="text-middle text-light my-4">Workflow Builder</h4>
            <form id="workflow-form" name="workflow-form"  method="post"  class="mt-5">
                <div class="input-group mt-4 mb-3" style="max-width: 1176px;">
                    <!-- Input workflow name -->
                    <span class="input-group-text" id="basic-addon1">Name</span>
                    <input style="max-width: 999px;" type="text" class="form-control" placeholder="Workflow Name"
                        aria-label="Username" name="create_name" aria-describedby="basic-addon1" id="create_name" required>
                </div>
                <div class="input-group mb-3" style="max-width: 1176px;">
                    <!-- You can also set this input as radio buttons -->
                    <!-- <input class="form-check-input mt-0" type="radio" value="" aria-label="Radio button for following text input"> -->
                    <select style="max-width: 987px;" class="form-select" id="create_action" name="create_action">
                        <option selected>Choose Action...</option>
                        <option value="on_create" name="created">Appointment Created</option>
                        <option value="on_cancel" name="cancelled">Appointment Cancelled</option>
                        <option value="on_reschedule" name="rescheduled">Appointment Rescheduled</option>
                    </select>
                    <label class="input-group-text" for="create_action" name="create_action">Actions</label>
                </div>
                <div class="input-group mt-2">
                    <span class="input-group-text  pe-3" style="width:143px ;">Email Template</span>
                    <textarea class="form-control" form="workflow-form" aria-label="With textarea"
                        id="email_template" name="email_template" ></textarea>
                </div>
                <div class="input-group mt-2">
                    <span class="input-group-text pe-3" style="width:143px ;">SMS Template</span>
                    <textarea class="form-control" form="workflow-form" aria-label="With textarea"
                        id="sms_template" name="sms_template"></textarea>
                </div>
                <div class="d-flex mt-3">
                    <button class="btn btn-primary text-light me-2 " id="btn-draft" onclick="return CreateDraft();">
                        Save as Draft
                    </button>
                    <button class="btn btn-primary text-light" id="btn-publish" onclick="return CreatePublished();">
                        Publish
                    </button>
                </div>
            </form>
        </div>
    </div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/theme.js"></script>

    <script type=text/javascript>
        function CreatePublished() {
          var workflowName = document.getElementById("create_name").value;
          document.getElementById('workflow-form').action = `/create/publish/${workflowName}`;
          //document.getElementById('workflow-form').method  = "post";    
        }

        function CreateDraft() {
          var workflowName = document.getElementById("create_name").value;
          document.getElementById('workflow-form').action = `/create/draft/${workflowName}`;
          //document.getElementById('workflow-form').method  = "post";    
        }

        </script>

</body>

</html>